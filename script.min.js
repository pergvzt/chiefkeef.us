document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("overlay-text"),t=document.getElementById("overlay"),n=document.getElementById("center-box"),s=document.getElementById("play-pause"),o=document.getElementById("audio-player");setTimeout(()=>e.classList.add("visible"),250);new Gradient().initGradient("#gradient-canvas");shuffleSongs(),loadSong(currentSongIndex),updateCounters(),e.addEventListener("click",()=>{t.classList.add("hidden"),setTimeout(()=>{t.style.display="none",n.style.display="block",setTimeout(()=>{n.style.opacity=1,n.style.transform="translate(-50%, -50%) scale(1)",setTimeout(()=>{n.style.animation="pulse 2s infinite ease-in-out"},2e3)},500)},1e3);const e=document.getElementById("music-player");setTimeout(()=>{e.style.opacity=1,e.style.transform="translate(-50%, 0)"},2500),o.play(),s.classList.add("paused")})});const songs=["sounds/Macias - INTRODESTRUKCJA.mp3","sounds/PIKERS - NIKT NIE MOWIŁ ŻE ŁATWO BĘDZIE.mp3","sounds/DiamondsOnMyDick - Bloodr4yne.mp3","sounds/GRUBVS - NIE POMOGE.mp3","sounds/ICYTWAT - AT YA DOME.mp3","sounds/ICYTWAT - COME SEE ME.mp3","sounds/kt - 223.mp3","sounds/ICYTWAT - LOVE WHO.mp3","sounds/PIKERS - CYRKIEL EVILPLUG.mp3","sounds/THOTTWAT - FUKDALAW.mp3","sounds/ICYTWAT - Eyez On Em.mp3","sounds/THOTTWAT - MILITIA.mp3","sounds/tn_490 - Please.mp3","sounds/VKIE - 2007 PIERWSZY TRACK.mp3","sounds/VKIE - KILO.mp3","sounds/TOM HENGST - 2 ZÖPFE.mp3","sounds/VKIE - NLE.mp3","sounds/tn_490 - Jezebel.mp3","sounds/TOM HENGST - LOBSTER.mp3","sounds/TIEFBASSKOMMANDO - KEIN ZUFALL.mp3","sounds/ZAYGUAPKID - DoBetter RAPGOTH STKNBG.mp3","sounds/phreshboyswag - i messed up .. dont be mad.mp3","sounds/Ocboyblau - Frenchnails.mp3","sounds/Tom Hengst - PORNOFILM.mp3","sounds/Ocboyblau - OSS.mp3","sounds/Dante YN - Remedy.mp3","sounds/Ocboyblau - DrainerGF Freestyle.mp3","sounds/makko - Zickzack.mp3","sounds/Brennan Jones - Freestyle.mp3","sounds/RXKNephew - Good Morning.mp3","sounds/Run Along Forever - Just Bands.mp3","sounds/phreshboyswag - girls pay for my dick.mp3","sounds/RONEN - Waiting....mp3","sounds/Yung Lean - Smirnoff Ice.mp3","sounds/Gunna - hakuna matata.mp3","sounds/smokedope2016 - Frat.mp3","sounds/smokedope2016 - Glock.mp3","sounds/praisezo - SAVEIT.mp3","sounds/Yxng LJ - Spending My Time.mp3","sounds/vynce - midnight killaz.mp3","sounds/slicko - monster.mp3","sounds/Baby B3ns - Liebe in Stereo.mp3","sounds/Beyazz - Parkbank.mp3","sounds/Luciano - Starboy.mp3","sounds/Zensery - SCHNAPS..mp3"],audioPlayer=document.getElementById("audio-player"),songTitle=document.getElementById("song-title"),playPauseButton=document.getElementById("play-pause"),progress=document.getElementById("progress"),progressContainer=document.getElementById("progress-container"),songsPlayed=document.getElementById("songs-played"),songsLeft=document.getElementById("songs-left"),timeElapsed=document.getElementById("time-elapsed"),timeRemaining=document.getElementById("time-remaining");let playedSongsCount=0,currentSongIndex=0,songHistory=[],isDragging=!1,wasPlaying=!1;function updateCounters(){songsPlayed.innerText=`przesluchane: ${Math.min(playedSongsCount+1,songs.length)}`,songsLeft.innerText=`zostalo: ${Math.max(songs.length-(playedSongsCount+1),0)}`}function loadSong(e){audioPlayer.src=songs[e];const t=songs[e].split("/").pop().replace(".mp3","");songTitle.innerText=t,updateCounters()}function playPause(){audioPlayer.paused?(audioPlayer.play(),playPauseButton.classList.add("paused")):(audioPlayer.pause(),playPauseButton.classList.remove("paused"))}function prevSong(){songHistory.length>0&&(currentSongIndex=songHistory.pop(),playedSongsCount--,loadSong(currentSongIndex),audioPlayer.play(),playPauseButton.classList.add("paused"),updateCounters())}function shuffleSongs(){for(let e=songs.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[songs[e],songs[t]]=[songs[t],songs[e]]}}function nextSong(){playedSongsCount>=songs.length-1?(shuffleSongs(),playedSongsCount=0,songHistory.length=0):(songHistory.push(currentSongIndex),currentSongIndex=(currentSongIndex+1)%songs.length,playedSongsCount++),loadSong(currentSongIndex),audioPlayer.play(),playPauseButton.classList.add("paused"),updateCounters()}function updateProgress(){const{currentTime:e,duration:t}=audioPlayer;if(!isNaN(e)&&!isNaN(t)){const n=e/t*100;progress.style.width=`${n}%`;const s=Math.floor(e/60),o=Math.floor(e%60),a=Math.floor((t-e)/60),l=Math.floor((t-e)%60);timeElapsed.innerText=`${s}:${o<10?"0":""}${o}`,timeRemaining.innerText=`${a}:${l<10?"0":""}${l}`}}function setProgress(e){const t=progressContainer.getBoundingClientRect().width,n=e.clientX-progressContainer.getBoundingClientRect().left,s=audioPlayer.duration;isNaN(s)||(audioPlayer.currentTime=n/t*s,updateProgress())}function startDrag(e){isDragging=!0,wasPlaying=!audioPlayer.paused,audioPlayer.pause(),setProgress(e),document.body.style.cursor="default"}function drag(e){isDragging&&requestAnimationFrame(()=>setProgress(e))}function endDrag(){isDragging&&(isDragging=!1,wasPlaying&&audioPlayer.play(),document.body.style.cursor="default")}let firstMove=!0,particleInterval,mouseX,mouseY;function createParticles(e,t,n,s,o,a){for(let l=0;l<1;l++)createParticle(e,t,n,s,o,a)}function createParticle(e,t,n,s,o,a){const l=document.createElement("div");l.classList.add(s),n&&l.classList.add("first-move"),document.body.appendChild(l),l.style.backgroundColor=["#656a95","#0c0d0d"][Math.floor(2*Math.random())],l.style.left=`${e+(Math.random()-.5)*o}px`,l.style.top=`${t+(Math.random()-.5)*a}px`,l.style.animationDuration=`${.5*Math.random()+.5}s`,l.style.transform=`translateX(${(Math.random()-.5)*o}px) translateY(${(Math.random()-.5)*a}px)`,setTimeout(()=>{l.remove()},500)}document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("mousemove",function(e){mouseX=e.clientX,mouseY=e.clientY,firstMove&&(firstMove=!1,createParticles(mouseX,mouseY,!0,"particle",15,15),particleInterval=setInterval(()=>{createParticles(mouseX,mouseY,!1,"particle",15,15)},100))})}),playPauseButton.addEventListener("click",playPause),document.getElementById("prev").addEventListener("click",prevSong),document.getElementById("next").addEventListener("click",nextSong),audioPlayer.addEventListener("timeupdate",updateProgress),audioPlayer.addEventListener("ended",nextSong),progressContainer.addEventListener("mousedown",startDrag),document.addEventListener("mousemove",drag),document.addEventListener("mouseup",endDrag);